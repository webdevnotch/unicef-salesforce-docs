import{_ as e,c as n,o as t,a}from"./app.2edf4356.js";const g=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"Environment Model","slug":"environment-model","link":"#environment-model","children":[]},{"level":2,"title":"Environment Variables","slug":"environment-variables","link":"#environment-variables","children":[]},{"level":2,"title":"Deployment Paths","slug":"deployment-paths","link":"#deployment-paths","children":[{"level":3,"title":"Static Hosting","slug":"static-hosting","link":"#static-hosting","children":[]},{"level":3,"title":"Docker Image","slug":"docker-image","link":"#docker-image","children":[]},{"level":3,"title":"CI/CD Checklist","slug":"ci-cd-checklist","link":"#ci-cd-checklist","children":[]}]},{"level":2,"title":"Operational Runbook","slug":"operational-runbook","link":"#operational-runbook","children":[]},{"level":2,"title":"Change Management","slug":"change-management","link":"#change-management","children":[]}],"relativePath":"frontend/ENVIRONMENT_DEPLOYMENT.md"}'),i={name:"frontend/ENVIRONMENT_DEPLOYMENT.md"},o=a(`<p>% Environment &amp; Deployment Runbook</p><p>Last updated: 2025-11-08</p><h2 id="environment-model" tabindex="-1">Environment Model <a class="header-anchor" href="#environment-model" aria-hidden="true">#</a></h2><table><thead><tr><th>Environment</th><th>Description</th><th>Base URL</th><th>Notes</th></tr></thead><tbody><tr><td>Development</td><td>Local developer machines</td><td><code>http://localhost:3000</code></td><td>Uses <code>.env.local</code>; no auth restrictions.</td></tr><tr><td>Staging</td><td>Pre-production validation</td><td><code>https://staging.api.example.com</code></td><td>Mirrors production data shape; limited to staging accounts.</td></tr><tr><td>Production</td><td>Live tenant</td><td><code>https://api.example.com</code></td><td>Requires elevated permissions and change control.</td></tr></tbody></table><blockquote><p>Configure additional environments in <code>src/config/environments.ts</code>. Each entry needs <code>name</code>, <code>apiUrl</code>, <code>wsUrl</code>, and optional <code>displayName</code>.</p></blockquote><h2 id="environment-variables" tabindex="-1">Environment Variables <a class="header-anchor" href="#environment-variables" aria-hidden="true">#</a></h2><p>Create <code>.env.local</code> for local dev. Example:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">VITE_API_URL=http://localhost:3000</span></span>
<span class="line"><span style="color:#A6ACCD;">VITE_WS_URL=ws://localhost:3000</span></span>
<span class="line"><span style="color:#A6ACCD;">VITE_APP_TITLE=SF Middleware Dashboard</span></span>
<span class="line"><span style="color:#A6ACCD;">VITE_APP_VERSION=1.0.0</span></span>
<span class="line"><span style="color:#A6ACCD;">VITE_SENTRY_DSN=</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>Do not commit <code>.env.local</code>.</li><li>Use <code>.env.staging</code> / <code>.env.production</code> for build pipelines.</li><li>Document new variables in this file and README.</li></ul><h2 id="deployment-paths" tabindex="-1">Deployment Paths <a class="header-anchor" href="#deployment-paths" aria-hidden="true">#</a></h2><h3 id="static-hosting" tabindex="-1">Static Hosting <a class="header-anchor" href="#static-hosting" aria-hidden="true">#</a></h3><ol><li><code>npm install</code></li><li><code>npm run build</code></li><li>Upload <code>dist/</code> to hosting (S3, Netlify, Azure Static Web Apps, etc.).</li><li>Ensure rewrites route all paths to <code>index.html</code> (for client-side routing).</li></ol><h3 id="docker-image" tabindex="-1">Docker Image <a class="header-anchor" href="#docker-image" aria-hidden="true">#</a></h3><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">docker build -t sf-dashboard .</span></span>
<span class="line"><span style="color:#A6ACCD;">docker run -p 3001:3001 sf-dashboard</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre></div><ul><li>Use multi-stage Dockerfile (build + nginx) to keep image small.</li><li>Inject environment variables at runtime via <code>env.js</code> or server config.</li></ul><h3 id="ci-cd-checklist" tabindex="-1">CI/CD Checklist <a class="header-anchor" href="#ci-cd-checklist" aria-hidden="true">#</a></h3><ul><li>Lint &amp; type check (<code>npm run lint</code>, <code>npm run typecheck</code> if configured).</li><li>Build test (<code>npm run build</code>).</li><li>Bundle analysis (optional).</li><li>Deploy to staging; run smoke suite.</li><li>Promote to production after approval.</li></ul><h2 id="operational-runbook" tabindex="-1">Operational Runbook <a class="header-anchor" href="#operational-runbook" aria-hidden="true">#</a></h2><p><strong>Smoke Tests (post-deploy):</strong></p><ul><li>Visit <code>/overview</code>; confirm metrics load without console errors.</li><li>Login/logout flow works.</li><li>Environment selector switches between at least two environments.</li><li>Execute sample export from <code>/audit</code>.</li></ul><p><strong>Rollback Strategy:</strong></p><ul><li>Static hosting: revert to previous build artifact; ensure caches invalidated.</li><li>Docker: redeploy previous tagged image.</li><li>Document cause and remediation steps in incident log.</li></ul><p><strong>Monitoring Signals:</strong></p><ul><li>Frontend availability (uptime monitor).</li><li>API latency/error rate (APM dashboards).</li><li>Export job success metrics.</li><li>WebSocket connection failure rates (if enabled).</li></ul><h2 id="change-management" tabindex="-1">Change Management <a class="header-anchor" href="#change-management" aria-hidden="true">#</a></h2><ul><li>Schedule production releases during maintenance windows.</li><li>Announce user-visible changes in <code>docs/CHANGELOG.md</code>.</li><li>Update documentation alongside code changes; require PR checklist confirmation.</li></ul>`,26),l=[o];function s(c,d,r,p,h,u){return t(),n("div",null,l)}const v=e(i,[["render",s]]);export{g as __pageData,v as default};
